# Numbers

def a = 101,
01010101001,
0x1ABCDEFabcdef,
0o7632157312,
1e+3

==>

Rel(
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    JoinExpression(
                        JoinExpression(
                            JoinExpression(
                                JoinExpression(
                                    OverrideExpression(
                                        RestrictExpression(
                                            LogicalExpression(
                                                BasicExpression(Literal(BaseLiteral(IntLiteral))))))),
                                OverrideExpression(
                                    RestrictExpression(
                                        LogicalExpression(
                                            BasicExpression(Literal(BaseLiteral(IntLiteral))))))),
                            OverrideExpression(
                                RestrictExpression(
                                    LogicalExpression(
                                        BasicExpression(Literal(BaseLiteral(IntLiteral))))))),
                        OverrideExpression(
                            RestrictExpression(
                                LogicalExpression(
                                    BasicExpression(Literal(BaseLiteral(IntLiteral))))))),
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(FloatLiteral)))))))))))


# Booleans

def a = true
def b = false

==>

Rel(
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BooleanLiteral))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BooleanLiteral))))))))))


# Strings & Char


def a = "A string with \"double\" and 'single' quotes"
def b = """A Multi-line string
New line
"""
def c = 'A'
def d = raw"""""""
A raw string with "quotes" & """Multi-line quotes""" \\ Slashes
"""""""
def e = raw"""""""""""
A raw string with 11 quotes
"""""""""""
def f = raw""

==>

Rel(
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(StaticStringLiteral)))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(StaticMultilineStringLiteral)))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(CharLiteral)))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(
                                    Literal(
                                        BaseLiteral(RawStringLiteral(Keyword, RawStringSequence))))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(
                                    Literal(
                                        BaseLiteral(RawStringLiteral(Keyword, RawStringSequence))))))))))),
    DefinitionStatement(
            Keyword, LhsId(BasicId), Expression(
                UnionExpression(
                    JoinExpression(
                        OverrideExpression(
                            RestrictExpression(
                                LogicalExpression(
                                    BasicExpression(
                                        Literal(
                                            BaseLiteral(RawStringLiteral(Keyword, RawStringSequence))))))))))))


# Relnames

def a = :test
def b = :[]
def c = :"A string relname literal"

==>

Rel(
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(RelnameLiteral)))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(RelnameLiteral)))))))))),
    DefinitionStatement(
        Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(RelnameStringLiteral)))))))))))

# Attribute Statement

@inline
@function
@static
@inline
@ondemand
def a = 1

==>

Rel(
    DefinitionStatement(
        Attribute(AttributeKeyword),
        Attribute(AttributeKeyword),
        Attribute(AttributeKeyword),
        Attribute(AttributeKeyword),
        Attribute(AttributeKeyword),
        Keyword,
        LhsId(BasicId),
        Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(IntLiteral)))))))))))


# Emphasis Keywords

def output = A
def insert = B
def delete = C
def abort = D
def export = E


==>

Rel(
    DefinitionStatement(
        Keyword, LhsId(Emphasis), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(BasicId)))))))),
    DefinitionStatement(
        Keyword, LhsId(Emphasis), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(BasicId)))))))),
    DefinitionStatement(
        Keyword, LhsId(Emphasis), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(BasicId)))))))),
    DefinitionStatement(
        Keyword, LhsId(Emphasis), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(BasicId)))))))),

    DefinitionStatement(
        Keyword, LhsId(Emphasis), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(BasicId)))))))))


# Module Statement

module store def a = 1 end

==>

Rel(
    ModuleStatement(
        Keyword, LhsId(BasicId), DefinitionStatement(
            Keyword, LhsId(BasicId), Expression(
                UnionExpression(
                    JoinExpression(
                        OverrideExpression(
                            RestrictExpression(
                                LogicalExpression(
                                    BasicExpression(Literal(BaseLiteral(IntLiteral)))))))))),
        Keyword))

# Value-Type Statement

value type Distance = Float

==>

Rel(
    ValueTypeStatement(
        Keyword, Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Type)))))))))

# Entity-Type Statement

entity type Professional = String, String

==>

Rel(
    EntityTypeStatement(
        Keyword, Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    JoinExpression(
                        OverrideExpression(
                            RestrictExpression(
                                LogicalExpression(
                                    BasicExpression(Type))))),
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Type)))))))))

# Constraint Statement

ic() {
    student ⊆ person
    // Can also be written as `subset(student, person)`.
}

==>

Rel(
    ConstraintStatement(
        Keyword, FormalParamsParen, Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(
                                    BasicExpression(BasicId),
                                    OperatorKeyword,
                                    BasicExpression(BasicId)))))))),
        LineComment))

# DocStrings


doc"A single-line docstring"
def a = 1

doc"""
    A multi-line docstring with escape sequence \\ \n
"""
def a = 1

doc"""""
    A multi-line raw docstring \
"""""
def a = 1

==>

Rel(
    DefinitionStatement(
        Docstring(Keyword, DocstringLiteral), Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(IntLiteral)))))))))),
    DefinitionStatement(
        Docstring(Keyword, MultilineDocstringLiteral), Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(IntLiteral)))))))))),
    DefinitionStatement(
        Docstring(Keyword, MultilineDocstringRawLiteral), Keyword, LhsId(BasicId), Expression(
            UnionExpression(
                JoinExpression(
                    OverrideExpression(
                        RestrictExpression(
                            LogicalExpression(
                                BasicExpression(Literal(BaseLiteral(IntLiteral)))))))))))
